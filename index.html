<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suite Operativa | Pixmedia Agency</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Estilos Base */
        .hero-gradient { background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); }
        .glass-card { background: #161b2a; border: 1px solid #1e293b; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); overflow: hidden; }
        .glass-card:hover { transform: translateY(-5px); border-color: #3b82f6; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3); }
        .logo-pixmedia { width: 180px; height: auto; object-fit: contain; }
        
        /* Efecto de Imagen en Tarjeta */
        .img-overlay { position: relative; overflow: hidden; aspect-ratio: 16/9; }
        .img-overlay img { width: 100%; height: 100%; object-fit: cover; object-position: top; transition: transform 0.5s ease; }
        .glass-card:hover .img-overlay img { transform: scale(1.05); }
        .overlay-icon { position: absolute; inset: 0; background: rgba(15, 23, 42, 0.6); display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s; }
        .glass-card:hover .overlay-icon { opacity: 1; }

        /* --- Estilos del Modal y Zoom --- */
        #imageModal { transition: opacity 0.3s ease; backdrop-filter: blur(5px); }
        #imageModal.hidden { pointer-events: none; opacity: 0; }
        #imageModal:not(.hidden) { pointer-events: auto; opacity: 1; }

        /* Contenedor de la imagen zoomable */
        #zoomContainer {
            overflow: hidden;
            /* Altura máxima relativa a la pantalla para evitar scroll del body */
            max-height: 85vh; 
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(0,0,0,0.2);
            border-radius: 0.5rem;
            cursor: zoom-in; /* Cursor inicial lupa */
        }

        #modalImage {
            /* Importante: max-width/height inicial para que quepa en pantalla sin zoom */
            max-width: 100%;
            max-height: 80vh; 
            object-fit: contain;
            transform-origin: center center;
            transition: transform 0.3s ease-out; /* Transición suave al hacer zoom */
            /* Evita que la imagen se ponga azul al arrastrar */
            user-select: none; 
            -webkit-user-drag: none;
        }

        /* Clases utilitarias para los cursores de arrastre */
        .cursor-grab { cursor: grab !important; }
        .cursor-grabbing { cursor: grabbing !important; }
    </style>
</head>
<body class="bg-[#0b0f1a] text-slate-300 font-sans min-h-screen flex flex-col">

    <header class="hero-gradient border-b border-slate-800 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <img src="https://pixmedia.b-cdn.net/pixmedialogoblanco.png" alt="Pixmedia" class="logo-pixmedia">
            <div class="text-xs font-bold text-slate-500 uppercase tracking-widest hidden md:block">
                Portafolio de Soluciones Operativas
            </div>
        </div>
    </header>

    <div class="py-16 px-4 text-center border-b border-slate-900 bg-[#0f1420]">
        <h1 class="text-3xl md:text-5xl font-extrabold text-white mb-4 tracking-tight">Reportes de Estado de Fuerza</h1>
        <p class="text-blue-400 font-medium text-lg mb-6">Digitalización de Procesos de Seguridad Privada</p>
        <p class="max-w-2xl mx-auto text-slate-400 font-light leading-relaxed">
            Suite de aplicaciones web progresivas (PWA) desarrolladas para reemplazar reportes de texto informales. 
            Estas herramientas estandarizan la captura de datos, generan tarjetas visuales para WhatsApp y almacenan históricos CSV en servidores privados.
        </p>
    </div>

    <main class="flex-grow px-4 py-16 max-w-7xl mx-auto w-full">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

            <article class="glass-card rounded-xl flex flex-col group cursor-pointer" onclick="openModal('http://imgfz.com/i/sqaTD0U.png', 'Braskem Idesa - Vista Detallada')">
                <div class="img-overlay">
                    <img src="http://imgfz.com/i/sqaTD0U.png" alt="Braskem UI">
                    <div class="overlay-icon">
                        <span class="bg-blue-600 text-white rounded-full p-3"><i class="fas fa-search-plus text-xl"></i></span>
                    </div>
                </div>
                <div class="p-6 flex flex-col flex-grow">
                    <div class="flex items-center gap-3 mb-3">
                        <i class="fas fa-industry text-blue-500 text-lg"></i>
                        <h3 class="text-lg font-bold text-white">Braskem Idesa</h3>
                    </div>
                    <p class="text-sm text-slate-400 mb-4 flex-grow">Sistema de control para seguridad patrimonial industrial. Gestiona asistencia Intramuros/Extramuros y checklist de patrullas con indicadores de estado.</p>
                    <div class="flex flex-wrap gap-2 mt-auto">
                        <span class="px-2 py-1 text-[10px] uppercase font-bold text-blue-300 bg-blue-900/30 rounded border border-blue-800">PHP 8</span>
                        <span class="px-2 py-1 text-[10px] uppercase font-bold text-slate-300 bg-slate-800 rounded border border-slate-700">CSV Log</span>
                    </div>
                </div>
            </article>

            <article class="glass-card rounded-xl flex flex-col group cursor-pointer" onclick="openModal('http://imgfz.com/i/8DBkKb0.png', 'Cazador TQPM - Vista Detallada')">
                <div class="img-overlay">
                    <img src="http://imgfz.com/i/8DBkKb0.png" alt="TQPM UI">
                    <div class="overlay-icon">
                        <span class="bg-cyan-600 text-white rounded-full p-3"><i class="fas fa-search-plus text-xl"></i></span>
                    </div>
                </div>
                <div class="p-6 flex flex-col flex-grow">
                    <div class="flex items-center gap-3 mb-3">
                        <i class="fas fa-shield-halved text-cyan-500 text-lg"></i>
                        <h3 class="text-lg font-bold text-white">Cazador TQPM</h3>
                    </div>
                    <p class="text-sm text-slate-400 mb-4 flex-grow">Bitácora táctica para custodia móvil. Registra recorridos disuasivos y eventos de custodia en ruta mediante una interfaz oscura de bajo consumo.</p>
                    <div class="flex flex-wrap gap-2 mt-auto">
                        <span class="px-2 py-1 text-[10px] uppercase font-bold text-cyan-300 bg-cyan-900/30 rounded border border-cyan-800">Dark Mode</span>
                        <span class="px-2 py-1 text-[10px] uppercase font-bold text-slate-300 bg-slate-800 rounded border border-slate-700">Timeline</span>
                    </div>
                </div>
            </article>

            <article class="glass-card rounded-xl flex flex-col group cursor-pointer" onclick="openModal('http://imgfz.com/i/l0I3CeZ.png', 'Centurión Logística - Vista Detallada')">
                <div class="img-overlay">
                    <img src="http://imgfz.com/i/l0I3CeZ.png" alt="Centurion UI">
                    <div class="overlay-icon">
                        <span class="bg-emerald-600 text-white rounded-full p-3"><i class="fas fa-search-plus text-xl"></i></span>
                    </div>
                </div>
                <div class="p-6 flex flex-col flex-grow">
                    <div class="flex items-center gap-3 mb-3">
                        <i class="fas fa-truck-moving text-emerald-500 text-lg"></i>
                        <h3 class="text-lg font-bold text-white">Centurión</h3>
                    </div>
                    <p class="text-sm text-slate-400 mb-4 flex-grow">Dashboard logístico para control de fuerza en sedes remotas (Silao/Braskem) y validación operativa de unidades blindadas.</p>
                    <div class="flex flex-wrap gap-2 mt-auto">
                        <span class="px-2 py-1 text-[10px] uppercase font-bold text-emerald-300 bg-emerald-900/30 rounded border border-emerald-800">Logística</span>
                        <span class="px-2 py-1 text-[10px] uppercase font-bold text-slate-300 bg-slate-800 rounded border border-slate-700">HTML2Canvas</span>
                    </div>
                </div>
            </article>

            <article class="glass-card rounded-xl flex flex-col group cursor-pointer" onclick="openModal('http://imgfz.com/i/BTPu2XG.png', 'SESCA Veracruz - Vista Detallada')">
                <div class="img-overlay">
                    <img src="http://imgfz.com/i/BTPu2XG.png" alt="Veracruz UI">
                    <div class="overlay-icon">
                        <span class="bg-yellow-600 text-white rounded-full p-3"><i class="fas fa-search-plus text-xl"></i></span>
                    </div>
                </div>
                <div class="p-6 flex flex-col flex-grow">
                    <div class="flex items-center gap-3 mb-3">
                        <i class="fas fa-city text-yellow-500 text-lg"></i>
                        <h3 class="text-lg font-bold text-white">Regional Veracruz</h3>
                    </div>
                    <p class="text-sm text-slate-400 mb-4 flex-grow">Reporte de asistencia zonificado (Boca del Río/Norte). Calcula automáticamente el porcentaje de cobertura operativa.</p>
                    <div class="flex flex-wrap gap-2 mt-auto">
                        <span class="px-2 py-1 text-[10px] uppercase font-bold text-yellow-300 bg-yellow-900/30 rounded border border-yellow-800">Analytics</span>
                        <span class="px-2 py-1 text-[10px] uppercase font-bold text-slate-300 bg-slate-800 rounded border border-slate-700">Tailwind</span>
                    </div>
                </div>
            </article>

            <article class="glass-card rounded-xl flex flex-col group cursor-pointer" onclick="openModal('http://imgfz.com/i/9OVPQcS.png', 'Gorat Master - Vista Detallada')">
                <div class="img-overlay">
                    <img src="http://imgfz.com/i/9OVPQcS.png" alt="Coatza UI">
                    <div class="overlay-icon">
                        <span class="bg-purple-600 text-white rounded-full p-3"><i class="fas fa-search-plus text-xl"></i></span>
                    </div>
                </div>
                <div class="p-6 flex flex-col flex-grow">
                    <div class="flex items-center gap-3 mb-3">
                        <i class="fas fa-building-shield text-purple-500 text-lg"></i>
                        <h3 class="text-lg font-bold text-white">Gorat Master</h3>
                    </div>
                    <p class="text-sm text-slate-400 mb-4 flex-grow">Panel de control principal para servicios locales y eventuales dinámicos. Gestiona la matriz completa de asistencia.</p>
                    <div class="flex flex-wrap gap-2 mt-auto">
                        <span class="px-2 py-1 text-[10px] uppercase font-bold text-purple-300 bg-purple-900/30 rounded border border-purple-800">Master Control</span>
                    </div>
                </div>
            </article>

        </div>
    </main>

    <footer class="py-8 border-t border-slate-800 bg-[#080c14] text-center mt-auto">
        <img src="https://pixmedia.b-cdn.net/pixmedialogoblanco.png" alt="Pixmedia" class="logo-pixmedia mx-auto mb-4 opacity-50 h-6">
        <p class="text-slate-600 text-[10px] uppercase tracking-[0.2em] font-bold">Tecnología Propietaria | Desarrollo Privado</p>
    </footer>

    <div id="imageModal" class="fixed inset-0 z-[100] bg-black/95 hidden flex items-center justify-center p-4" onclick="closeModalOnClickOutside(event)">
        <div class="relative max-w-6xl w-full flex flex-col items-center">
            
            <div class="w-full flex justify-between items-center mb-4 text-white z-10">
                <h3 id="modalTitle" class="text-xl font-bold flex items-center">
                    <i class="fas fa-eye text-blue-500 mr-3"></i> <span id="titleText">Vista Previa</span>
                </h3>
                <button onclick="closeModal()" class="bg-slate-800 hover:bg-red-600 text-white w-10 h-10 rounded-full flex items-center justify-center transition">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>

            <div id="zoomContainer" class="w-full relative border border-slate-700 shadow-2xl bg-[#161b2a]">
                <img id="modalImage" src="" alt="Full Preview">
            </div>
            
            <div class="mt-4 flex gap-4 text-xs text-slate-400 font-mono bg-slate-900/50 px-4 py-2 rounded-full border border-slate-800">
                <span><i class="fas fa-mouse-pointer mr-2"></i>Click: Zoom In/Out</span>
                <span class="text-slate-600">|</span>
                <span><i class="fas fa-hand-paper mr-2"></i>Arrastrar: Navegar</span>
            </div>

        </div>
    </div>

    <script>
        const modal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        const zoomContainer = document.getElementById('zoomContainer');
        const body = document.body;
        const titleText = document.getElementById('titleText');

        let isZoomed = false;
        let isDragging = false;
        let startX, startY, translateX = 0, translateY = 0;
        const scaleFactor = 2.5; // Factor de zoom (2.5x)

        // --- Funciones Principales del Modal ---
        function openModal(imgSrc, title) {
            modalImage.src = imgSrc;
            titleText.innerText = title;
            modal.classList.remove('hidden');
            body.style.overflow = 'hidden'; // Bloquear scroll traserio
            resetZoom(); // Siempre empezar sin zoom
        }

        function closeModal() {
            modal.classList.add('hidden');
            body.style.overflow = 'auto'; // Restaurar scroll
            setTimeout(resetZoom, 300); // Resetear después de la transición de cierre
        }

        // Cerrar si se hace click en el fondo negro (fuera de la imagen)
        function closeModalOnClickOutside(event) {
            if (event.target === modal) {
                closeModal();
            }
        }

        // Cerrar con tecla ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === "Escape" && !modal.classList.contains('hidden')) {
                closeModal();
            }
        });

        // --- Lógica de Zoom y Paneo (Arrastre) ---

        function resetZoom() {
            isZoomed = false;
            translateX = 0;
            translateY = 0;
            modalImage.style.transform = `scale(1) translate(0px, 0px)`;
            zoomContainer.classList.remove('cursor-grab', 'cursor-grabbing');
            zoomContainer.classList.add('cursor-zoom-in');
        }

        function toggleZoom(e) {
            // Evitar que un click rápido después de arrastrar active el zoom
            if (isDragging) return; 

            isZoomed = !isZoomed;

            if (isZoomed) {
                // Aplicar Zoom
                modalImage.style.transform = `scale(${scaleFactor}) translate(0px, 0px)`;
                zoomContainer.classList.remove('cursor-zoom-in');
                zoomContainer.classList.add('cursor-grab');
                // Resetear traslación al hacer zoom in fresco
                translateX = 0; translateY = 0;
            } else {
                resetZoom();
            }
        }

        // --- Event Listeners para Interacción ---

        // 1. Click para Zoom In/Out
        zoomContainer.addEventListener('click', toggleZoom);

        // 2. Iniciar Arrastre (MouseDown)
        zoomContainer.addEventListener('mousedown', (e) => {
            if (!isZoomed) return; // Solo arrastrar si está con zoom
            isDragging = true;
            startX = e.clientX - translateX;
            startY = e.clientY - translateY;
            zoomContainer.classList.replace('cursor-grab', 'cursor-grabbing');
            e.preventDefault(); // Evitar comportamiento de arrastre nativo del navegador
        });

        // 3. Mover Imagen (MouseMove en Ventana)
        window.addEventListener('mousemove', (e) => {
            if (!isDragging || !isZoomed) return;
            translateX = e.clientX - startX;
            translateY = e.clientY - startY;
            // Aplicar transformación combinada: Escala + Nueva Posición
            modalImage.style.transform = `scale(${scaleFactor}) translate(${translateX}px, ${translateY}px)`;
        });

        // 4. Terminar Arrastre (MouseUp en Ventana)
        window.addEventListener('mouseup', () => {
            if (isDragging) {
                isDragging = false;
                zoomContainer.classList.replace('cursor-grabbing', 'cursor-grab');
            }
        });

        // 5. Seguridad: Si el mouse sale de la ventana, detener arrastre
        window.addEventListener('mouseleave', () => {
             if (isDragging) {
                isDragging = false;
                zoomContainer.classList.replace('cursor-grabbing', 'cursor-grab');
            }
        });

    </script>
</body>
</html>
